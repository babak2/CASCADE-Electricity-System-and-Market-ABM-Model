<HTML><HEAD><!-- Generated by Together onWed Jan 18 18:15:15 GMT 2012 --><TITLE></TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style"></HEAD><BODY BGCOLOR="white"><!-- ========== START OF NAVBAR ========== --><TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0"><TR><TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1"><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3"><TR ALIGN="center" VALIGN="top"><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "class-use/WattboxController.html"><FONT ID="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD></TR></TABLE><TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM></TD></EM></TD></TR><TR><TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">&nbsp;<A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/SmartDevice.html"><B>PREV CLASS</B></A>&nbsp;&nbsp;NEXT CLASS</FONT></TD><TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">  <A HREF= "../../../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;&nbsp;<A HREF= "WattboxController.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD></TR><TR><TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">SUMMARY:&nbsp;INNER&nbsp;|&nbsp;<A HREF= "#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF= "#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF= "#method_summary">METHOD</A></FONT></TD><TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">DETAIL:&nbsp;<A HREF= "#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF= "#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF= "#method_detail">METHOD</A></FONT></TD></TR></TABLE><!-- ========== END OF NAVBAR ========== --><HR><H2><FONT SIZE="-1">uk.ac.dmu.iesd.cascade.controllers</FONT><BR>Class WattboxController</H2><HR><DL><DT>public class <B>WattboxController</B><DT>implements <A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/ISmartController.html">ISmartController</A></DL><P>* This class implements an abstracted version of the "Wattbox"
Smart controller developed by Dr. Peter Boait

The Wattbox learned variable is occupancy, with the controlled
variable being temperature set point.  Set point is determined
by an optimisation algorithm based upon an input signal and 
projected load for the following day<P><DL><DT><B>Author:</B><DD>jrsnape</DL><HR><!--  =========== FIELD SUMMARY ===========  --><A NAME= "field_summary"></A><TABLE BORDER="1"  CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF"  ID="TableHeadingColor"> <TD COLSPAN=2><FONT SIZE= "+2"><B>Field Summary</B></FONT></TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#currentTempProfile">currentTempProfile</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#dayPredictedCostSignal">dayPredictedCostSignal</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#EVChargingProfile">EVChargingProfile</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#heatPumpDemandProfile">heatPumpDemandProfile</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#heatPumpOnOffProfile">heatPumpOnOffProfile</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#hotWaterVolumeDemandProfile">hotWaterVolumeDemandProfile</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) final static double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#INITIALIZATION_TEMPS">INITIALIZATION_TEMPS</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#optimisedSetPointProfile">optimisedSetPointProfile</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) <A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/HouseholdProsumer.html">HouseholdProsumer</A></CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#owner">owner</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#predictedCostToRealCostA">predictedCostToRealCostA</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#priorDayExternalTempProfile">priorDayExternalTempProfile</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#realCostOffsetb">realCostOffsetb</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) double[]</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#setPointProfile">setPointProfile</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) int</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#ticksPerDay">ticksPerDay</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) WattboxLifestyle</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#userLifestyle">userLifestyle</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) WattboxUserProfile</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#userProfile">userProfile</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR></TABLE><BR><!--  =========== CONSTRUCTOR SUMMARY ===========  --><A NAME= "constructor_summary"></A><TABLE BORDER="1"  CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF"  ID="TableHeadingColor"> <TD COLSPAN=2><FONT SIZE= "+2"><B>Constructor Summary</B></FONT></TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#WattboxController(uk.ac.dmu.iesd.cascade.context.HouseholdProsumer)">WattboxController</A></B>(<A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/HouseholdProsumer.html">HouseholdProsumer</A> owner)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor - creates an uninitialized Wattbox controller assigned to 
the prosumer passed in as an argument.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#WattboxController(uk.ac.dmu.iesd.cascade.context.HouseholdProsumer, uk.ac.dmu.iesd.cascade.context.CascadeContext)">WattboxController</A></B>(<A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/HouseholdProsumer.html">HouseholdProsumer</A> owner, <A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/CascadeContext.html">CascadeContext</A> context)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#WattboxController(uk.ac.dmu.iesd.cascade.context.HouseholdProsumer, WattboxUserProfile, WattboxLifestyle)">WattboxController</A></B>(<A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/HouseholdProsumer.html">HouseholdProsumer</A> owner, WattboxUserProfile userProfile, WattboxLifestyle userLifestyle)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor - creates a Wattbox controller assigned to 
the prosumer passed in as an argument and initialized with
a user profile and lifestyle also passed in.</TD></TR></TABLE><BR><!--  =========== METHOD SUMMARY ===========  --><A NAME= "method_summary"></A><TABLE BORDER="1"  CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF"  ID="TableHeadingColor"> <TD COLSPAN=2><FONT SIZE= "+2"><B>Method Summary</B></FONT></TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;WeakHashMap</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#getCurrentProfiles()">getCurrentProfiles</A></B>()</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method to return all the optimised profiles currently held by this Wattbox</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;(package private) void</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#optimiseSetPointProfile()">optimiseSetPointProfile</A></B>()</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finds an optimised set point profile for the day ahead 
based on the projected temperature
and therefore predicted heat pump demand.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;void</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#setDayPredictedCostSignal(double[])">setDayPredictedCostSignal</A></B>(double[] dayPredictedCostSignal)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;void</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/WattboxController.html#update(int)">update</A></B>(int timeStep)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updates the occupancy profiles, probabilities of occupancy and lifestyle
and optimises profiles based on this</TD></TR></TABLE><BR><!--  =========== FIELD DETAIL ===========  --><A NAME= "field_detail"></A><TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF" ID="TableHeadingColor"><TD COLSPAN=1><FONT SIZE="+2"><B>Field Detail</B></FONT></TD></TR></TABLE><BR><A NAME= "currentTempProfile"><H3>currentTempProfile</H3></A><PRE>double[] <B>currentTempProfile</B></PRE><DL><DD></DL><HR><A NAME= "dayPredictedCostSignal"><H3>dayPredictedCostSignal</H3></A><PRE>double[] <B>dayPredictedCostSignal</B></PRE><DL><DD></DL><HR><A NAME= "EVChargingProfile"><H3>EVChargingProfile</H3></A><PRE>double[] <B>EVChargingProfile</B></PRE><DL><DD></DL><HR><A NAME= "heatPumpDemandProfile"><H3>heatPumpDemandProfile</H3></A><PRE>double[] <B>heatPumpDemandProfile</B></PRE><DL><DD></DL><HR><A NAME= "heatPumpOnOffProfile"><H3>heatPumpOnOffProfile</H3></A><PRE>double[] <B>heatPumpOnOffProfile</B></PRE><DL><DD></DL><HR><A NAME= "hotWaterVolumeDemandProfile"><H3>hotWaterVolumeDemandProfile</H3></A><PRE>double[] <B>hotWaterVolumeDemandProfile</B></PRE><DL><DD></DL><HR><A NAME= "INITIALIZATION_TEMPS"><H3>INITIALIZATION_TEMPS</H3></A><PRE>final static double[] <B>INITIALIZATION_TEMPS</B></PRE><DL><DD></DL><HR><A NAME= "optimisedSetPointProfile"><H3>optimisedSetPointProfile</H3></A><PRE>double[] <B>optimisedSetPointProfile</B></PRE><DL><DD></DL><HR><A NAME= "owner"><H3>owner</H3></A><PRE><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/HouseholdProsumer.html">HouseholdProsumer</A> <B>owner</B></PRE><DL><DD></DL><HR><A NAME= "predictedCostToRealCostA"><H3>predictedCostToRealCostA</H3></A><PRE>double <B>predictedCostToRealCostA</B></PRE><DL><DD></DL><HR><A NAME= "priorDayExternalTempProfile"><H3>priorDayExternalTempProfile</H3></A><PRE>double[] <B>priorDayExternalTempProfile</B></PRE><DL><DD></DL><HR><A NAME= "realCostOffsetb"><H3>realCostOffsetb</H3></A><PRE>double <B>realCostOffsetb</B></PRE><DL><DD></DL><HR><A NAME= "setPointProfile"><H3>setPointProfile</H3></A><PRE>double[] <B>setPointProfile</B></PRE><DL><DD></DL><HR><A NAME= "ticksPerDay"><H3>ticksPerDay</H3></A><PRE>int <B>ticksPerDay</B></PRE><DL><DD></DL><HR><A NAME= "userLifestyle"><H3>userLifestyle</H3></A><PRE>WattboxLifestyle <B>userLifestyle</B></PRE><DL><DD></DL><HR><A NAME= "userProfile"><H3>userProfile</H3></A><PRE>WattboxUserProfile <B>userProfile</B></PRE><DL><DD></DL><!--  =========== CONSTRUCTOR DETAIL ===========  --><A NAME= "constructor_detail"></A><TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF" ID="TableHeadingColor"><TD COLSPAN=1><FONT SIZE="+2"><B>Constructor Detail</B></FONT></TD></TR></TABLE><BR><A NAME= "WattboxController(uk.ac.dmu.iesd.cascade.context.HouseholdProsumer)"><H3>WattboxController</H3></A><PRE>public <B>WattboxController</B>(<A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/HouseholdProsumer.html">HouseholdProsumer</A> owner)</PRE><DL><DD>Constructor - creates an uninitialized Wattbox controller assigned to 
the prosumer passed in as an argument.<DD><DL><DT><B>Parameters:</B><DD>owner - - the prosumer agent that owns this wattbox</DL></DD></DL><HR><A NAME= "WattboxController(uk.ac.dmu.iesd.cascade.context.HouseholdProsumer, uk.ac.dmu.iesd.cascade.context.CascadeContext)"><H3>WattboxController</H3></A><PRE>public <B>WattboxController</B>(<A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/HouseholdProsumer.html">HouseholdProsumer</A> owner, <A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/CascadeContext.html">CascadeContext</A> context)</PRE><DL><DD></DL><HR><A NAME= "WattboxController(uk.ac.dmu.iesd.cascade.context.HouseholdProsumer, WattboxUserProfile, WattboxLifestyle)"><H3>WattboxController</H3></A><PRE>public <B>WattboxController</B>(<A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/HouseholdProsumer.html">HouseholdProsumer</A> owner, WattboxUserProfile userProfile, WattboxLifestyle userLifestyle)</PRE><DL><DD>Constructor - creates a Wattbox controller assigned to 
the prosumer passed in as an argument and initialized with
a user profile and lifestyle also passed in.<DD><DL><DT><B>Parameters:</B><DD>owner - - the prosumer agent that owns this wattbox<DD>userProfile<DD>userLifestyle</DL></DD></DL><!--  =========== METHOD DETAIL ===========  --><A NAME= "method_detail"></A><TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF" ID="TableHeadingColor"><TD COLSPAN=1><FONT SIZE="+2"><B>Method Detail</B></FONT></TD></TR></TABLE><BR><A NAME= "getCurrentProfiles()"><H3>getCurrentProfiles</H3></A><PRE>public WeakHashMap <B>getCurrentProfiles</B>()</PRE><DL><DD>method to return all the optimised profiles currently held by this Wattbox</DL><HR><A NAME= "optimiseSetPointProfile()"><H3>optimiseSetPointProfile</H3></A><PRE>void <B>optimiseSetPointProfile</B>()</PRE><DL><DD>finds an optimised set point profile for the day ahead 
based on the projected temperature
and therefore predicted heat pump demand.  This is combined with the 
signal (sent by the aggregator) as a proxy for predicted cost of 
electricity for the day ahead to produce the estimated cost of the 
switching profile.

Subject to constraints that 
<li> temperature drop in switch off periods must not exceed a certain amount.
<li> heat pump may be switched off for only one contiguous period per day
<li> the "switch off period" may be between half an hour and four hours

Currently uses a "brute force" algorithm to evaluate all profiles
It uses the profile which minimises the predicted cost of operation.
Alter set point profile to use heat pump optimally</DL><HR><A NAME= "setDayPredictedCostSignal(double[])"><H3>setDayPredictedCostSignal</H3></A><PRE>public void <B>setDayPredictedCostSignal</B>(double[] dayPredictedCostSignal)</PRE><DL><DD><DD><DL><DT><B>Parameters:</B><DD>dayPredictedCostSignal - the dayPredictedCostSignal to set</DL></DD></DL><HR><A NAME= "update(int)"><H3>update</H3></A><PRE>public void <B>update</B>(int timeStep)</PRE><DL><DD>updates the occupancy profiles, probabilities of occupancy and lifestyle
and optimises profiles based on this</DL><P><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR BGCOLOR="#CCCCFF" ID="TableHeadingColor"><TD><FONT SIZE= "+0"><B>Association Links</B></FONT></TD></TR></TABLE><BR>to <B>Class </B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/HouseholdProsumer.html">uk.ac.dmu.iesd.cascade.context.HouseholdProsumer</A><DL></DL><P>to <B>Class </B><A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/context/CascadeContext.html">uk.ac.dmu.iesd.cascade.context.CascadeContext</A><DL></DL><HR><!-- ========== START OF NAVBAR ========== --><TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0"><TR><TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1"><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3"><TR ALIGN="center" VALIGN="top"><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "class-use/WattboxController.html"><FONT ID="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD></TR></TABLE><TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM></TD></EM></TD></TR><TR><TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">&nbsp;<A HREF= "../../../../../../uk/ac/dmu/iesd/cascade/controllers/SmartDevice.html"><B>PREV CLASS</B></A>&nbsp;&nbsp;NEXT CLASS</FONT></TD><TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">  <A HREF= "../../../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;&nbsp;<A HREF= "WattboxController.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD></TR><TR><TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">SUMMARY:&nbsp;INNER&nbsp;|&nbsp;<A HREF= "#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF= "#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF= "#method_summary">METHOD</A></FONT></TD><TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">DETAIL:&nbsp;<A HREF= "#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF= "#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF= "#method_detail">METHOD</A></FONT></TD></TR></TABLE><!-- ========== END OF NAVBAR ========== --><HR></BODY></HTML>